<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Data Visualisation - DV</title>
    <link rel="stylesheet" href="/static/CSS/all.css">
    <style>
        .chart-container {
            display: flex;
            flex-wrap: wrap;
            justify-content: space-between;
        }
        .chart {
            width: 48%;
            height: 400px;
            margin-bottom: 20px;
            background-color: #f0f0f0;
            border: 1px solid #ccc;
        }
        .chart:nth-child(5),
        .chart:nth-child(6) {
            width: 100%;
        }
        .legend {
            line-height: 18px;
            color: #555;
            background: white;
            padding: 10px;
            border-radius: 5px;
            box-shadow: 0 0 15px rgba(0, 0, 0, 0.2);
        }
        .legend h4 {
            margin: 0 0 5px;
        }
        .legend div {
            display: flex;
            align-items: center;
        }
        .legend div span {
            display: inline-block;
            width: 20px;
            height: 20px;
            margin-right: 5px;
        }
    </style>
    <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
    <link rel="stylesheet" href="https://unpkg.com/leaflet.markercluster/dist/MarkerCluster.css" />
    <link rel="stylesheet" href="https://unpkg.com/leaflet.markercluster/dist/MarkerCluster.Default.css" />
</head>
<body>
    <div class="container">
        <header>
            <div class="logo-area">
                <span class="logo-circle"></span>
                <span class="logo-text">Data Visualisation - DV</span>
            </div>
            <button class="menu-button">â˜°</button>
        </header>
        <div class="side-menu" id="sideMenu">
            <button class="close-button">X</button>
            <a href="/charts">Chart Overview</a>
            <a href="#">Edit/Clear Data</a>
            <a href="#">Forecast</a>
            <a href="#">My Profile</a>
            <a href="/login">Sign In</a>
            <a href="/">Log Out</a>
            <div class="menu-item has-submenu">
                <a href="#">Customer Dashboard</a>
                <div class="submenu">
                    <a href="/salesperformancedash">Sales Performance Dashboard</a>
                    <a href="#">Customer Insights Dashboard</a>
                    <a href="#">Product Performance Dashboard</a>
                    <a href="#">Store Performance Dashboard</a>
                    <a href="#">Order Details Dashboard</a>
                </div>
            </div>
        </div>
    </div>
    <main class="main">
        <section class="data-selection">
            <h1 class="dashboard-title">Sales Performance Dashboard</h1>
            <div class="chart-container">
                <div id="chart1" class="chart">
                    <div id="myChart1" style="width: 100%; height: 100%;"></div>
                </div>
                <div id="chart2" class="chart">
                    <div id="myChart2" style="width: 100%; height: 100%;"></div>
                </div>
                <div id="chart3" class="chart">
                    <div id="myChart3" style="width: 100%; height: 100%;"></div>
                </div>
                <div id="chart4" class="chart">
                    <div id="myChart4" style="width: 100%; height: 100%;"></div>
                </div>
                <div id="chart5" class="chart">
                    <div id="map" style="width: 100%; height: 100%;"></div>
                </div>
            </div>
        </section>
    </main>
    <script src="https://cdn.jsdelivr.net/npm/echarts/dist/echarts.min.js"></script>
    <script src="/static/JS/sidemenu.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
    <script src="https://unpkg.com/leaflet.markercluster/dist/leaflet.markercluster.js"></script>
    <script src="https://unpkg.com/heatmap.js"></script>
    <script src="https://unpkg.com/leaflet-heatmap/leaflet-heatmap.js"></script>
    <script src="/static/JS/dashboards.js"></script>


    <script>
 let darkMode = false;
let decalPattern = false;

 $(document).ready(async function() {
    await loadChartsSequentially([
        { id: 'myChart1', xTable: 'stores', xColumn: 'storeID', yTable: 'orders', yColumns: ['total'], type: 'area', aggregations: ['Summe'] },
   { id: 'myChart2', xTable: 'stores', xColumn: 'storeID', yTable: 'orders', yColumns: ['total'], type: 'bar', aggregations: ['Summe'] },
    { id: 'myChart3', xTable: 'products', xColumn: 'Name', yTable: 'orders', yColumns: ['total'], type: 'pie', aggregations: ['Summe'] },
    { id: 'myChart4', xTable: 'products', xColumn: 'Name', yTable: 'orders', yColumns: ['total'], type: 'bar', aggregations: ['Summe'] },
  // { id: 'myStackedChart', xTable: 'orders', xColumn: 'nItems', yTable: 'orders', yColumns: ['total', 'total', 'total'], type: 'stacked', aggregations: ['Min', 'Max', 'Durchschnitt'] },
    { id: 'map', markerType: 'stores', table: 'orders', column: 'total', aggregation: 'Summe', type: 'geo' },
  //{ id: 'chart7', markerType: 'stores', table: 'orders', column: 'total', aggregation: 'Anzahl', type: 'dynamicMarkers' } // Neue Chart-Konfiguration
     ]);
});

    </script>
</body>
</html>
